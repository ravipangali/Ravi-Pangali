<header class="fixed top-0 left-0 w-full z-50 transition-all duration-300" id="main-header">
    <div class="main-container px-2 sm:px-4">
        <nav class="bg-slate-800/80 backdrop-blur-sm flex items-center justify-between px-3 sm:px-6 py-3 sm:py-4 my-2 sm:my-4 rounded-xl sm:rounded-2xl">
            <!-- Logo -->
            <a href="{% url 'myuser:dashboard' %}" class="flex items-center space-x-2 group">
                <div class="w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-blue-500 to-cyan-400 rounded-lg flex items-center justify-center transform transition-transform group-hover:rotate-12 duration-300">
                    <img src="/static/img/icon.png" alt="RP Logo" class="w-6 h-6 sm:w-8 sm:h-8">
                </div>
                <span class="text-lg sm:text-xl font-bold gradient-text">Dashboard</span>
            </a>
            
            <!-- Desktop Navigation -->
            <div class="hidden md:flex items-center space-x-4 lg:space-x-8">
                <a href="{% url 'myuser:dashboard' %}" class="nav-link relative text-sm lg:text-base">Dashboard</a>
                <a href="{% url 'myuser:firebase_apps' %}" class="nav-link relative text-sm lg:text-base">Firebase Apps</a>
                <a href="{% url 'myuser:api_documentation' %}" class="nav-link relative text-sm lg:text-base">API Docs</a>
                <a href="{% url 'myuser:profile' %}" class="nav-link relative text-sm lg:text-base">Profile</a>
                <a href="{% url 'home' %}" class="nav-link relative text-sm lg:text-base">Website</a>
                <a href="{% url 'myuser:logout' %}" class="contact-btn px-3 py-1.5 lg:px-5 lg:py-2 bg-gradient-to-r from-red-500 to-pink-500 rounded-lg text-white text-sm lg:text-base font-medium transition-all duration-300 hover:shadow-lg hover:shadow-red-500/25">Logout</a>
            </div>
            
            <!-- Mobile Menu Button -->
            <button 
                class="md:hidden flex items-center" 
                id="mobile-menu-button"
                aria-expanded="false"
                aria-controls="mobile-menu"
                aria-label="Toggle menu">
                <svg class="w-6 h-6 text-slate-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
            </button>
        </nav>
        
        <!-- Mobile Navigation -->
        <div 
            id="mobile-menu" 
            class="md:hidden bg-slate-800/90 backdrop-blur-lg fixed inset-x-4 top-[4.5rem] py-4 px-5 rounded-xl opacity-0 pointer-events-none transform -translate-y-10 transition-all duration-300 shadow-xl shadow-black/30 border border-slate-700/50 z-50"
            aria-hidden="true">
            <div class="flex flex-col space-y-4">
                <a href="{% url 'myuser:dashboard' %}" class="nav-link mobile-link">Dashboard</a>
                <a href="{% url 'myuser:firebase_apps' %}" class="nav-link mobile-link">Firebase Apps</a>
                <a href="{% url 'myuser:api_documentation' %}" class="nav-link mobile-link">API Docs</a>
                <a href="{% url 'myuser:profile' %}" class="nav-link mobile-link">Profile</a>
                <a href="{% url 'myuser:password_change' %}" class="nav-link mobile-link">Security</a>
                <a href="{% url 'home' %}" class="nav-link mobile-link">Website</a>
                
                <a href="{% url 'myuser:logout' %}" class="block px-5 py-2 bg-gradient-to-r from-red-500 to-pink-500 rounded-lg text-white font-medium text-center">Logout</a>
            </div>
        </div>
    </div>
</header>

<style>
    /* Mobile menu animation */
    #mobile-menu.show {
        opacity: 1 !important;
        transform: translateY(0) !important;
        pointer-events: auto !important;
    }
    
    /* Ensure mobile menu items are properly styled */
    .mobile-link {
        color: white;
        font-weight: 500;
        padding: 0.75rem 0.5rem;
        border-radius: 0.5rem;
        transition: all 0.3s ease;
    }
    
    .mobile-link:hover {
        background-color: rgba(59, 130, 246, 0.1);
    }
    
    /* Nav link styling */
    .nav-link {
        color: #cbd5e1;
        transition: all 0.3s ease;
        position: relative;
    }
    
    .nav-link:hover {
        color: white;
    }
    
    .nav-link::after {
        content: '';
        position: absolute;
        bottom: -2px;
        left: 0;
        width: 0;
        height: 2px;
        background: linear-gradient(90deg, #3b82f6, #06b6d4);
        transition: width 0.3s ease;
    }
    
    .nav-link:hover::after {
        width: 100%;
    }
</style>

<script>
// Mobile menu functionality
document.addEventListener('DOMContentLoaded', function() {
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    
    if (mobileMenuButton && mobileMenu) {
        mobileMenuButton.addEventListener('click', function() {
            const isExpanded = this.getAttribute('aria-expanded') === 'true';
            this.setAttribute('aria-expanded', !isExpanded);
            mobileMenu.setAttribute('aria-hidden', isExpanded);
            
            if (isExpanded) {
                mobileMenu.classList.remove('show');
            } else {
                mobileMenu.classList.add('show');
            }
        });
    }
});
</script>
